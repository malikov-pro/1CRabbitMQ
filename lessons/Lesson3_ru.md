# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ RabbitMQ - –£—Ä–æ–∫ 3: "Publish/Subscribe" (–ü—É–±–ª–∏–∫–∞—Ü–∏—è/–ü–æ–¥–ø–∏—Å–∫–∞)

## –í–≤–µ–¥–µ–Ω–∏–µ (Introduction)

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- ‚úÖ RabbitMQ –∑–∞–ø—É—â–µ–Ω (—Å–º. [DOCKER_README.md](./DOCKER_README.md))
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `–ö–ª–∏–µ–Ω—ÇRMQ` –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –í—ã –∏–∑—É—á–∏–ª–∏ [–£—Ä–æ–∫ 1](./Lesson1_ru.md) –∏ [–£—Ä–æ–∫ 2](./Lesson2_ru.md)

### –ß–µ–º—É –ø–æ—Å–≤—è—â–µ–Ω —ç—Ç–æ—Ç —É—Ä–æ–∫

–í [–ø—Ä–µ–¥—ã–¥—É—â–µ–º —É—Ä–æ–∫–µ](./Lesson2_ru.md) –º—ã —Å–æ–∑–¥–∞–ª–∏ **—Ä–∞–±–æ—á—É—é –æ—á–µ—Ä–µ–¥—å** (work queue). –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è —Ä–∞–±–æ—á–µ–π –æ—á–µ—Ä–µ–¥–∏ ‚Äî –∫–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è **—Ä–æ–≤–Ω–æ –æ–¥–Ω–æ–º—É** –≤–æ—Ä–∫–µ—Ä—É.

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã —Å–¥–µ–ª–∞–µ–º –Ω–µ—á—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –∏–Ω–æ–µ ‚Äî **–¥–æ—Å—Ç–∞–≤–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º**. –≠—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **"publish/subscribe"** (–ø—É–±–ª–∏–∫–∞—Ü–∏—è/–ø–æ–¥–ø–∏—Å–∫–∞).

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç—É—é **—Å–∏—Å—Ç–µ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**. –û–Ω–∞ –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –¥–≤—É—Ö –ø—Ä–æ–≥—Ä–∞–º–º:
1. **–ò–∑–¥–∞—Ç–µ–ª—å (emit_log)** ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è-–ª–æ–≥–∏
2. **–ü–æ–¥–ø–∏—Å—á–∏–∫ (receive_logs)** ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –∏ –≤—ã–≤–æ–¥–∏—Ç –ª–æ–≥–∏

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: **–∫–∞–∂–¥—ã–π –∑–∞–ø—É—â–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –ø–æ–¥–ø–∏—Å—á–∏–∫–∞ –ø–æ–ª—É—á–∏—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è**. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:
- –û–¥–∏–Ω –ø–æ–¥–ø–∏—Å—á–∏–∫ –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ª–æ–≥–∏ –Ω–∞ –¥–∏—Å–∫
- –î—Ä—É–≥–æ–π –ø–æ–¥–ø–∏—Å—á–∏–∫ –º–æ–∂–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ —ç–∫—Ä–∞–Ω
- –¢—Ä–µ—Ç–∏–π –ø–æ–¥–ø–∏—Å—á–∏–∫ –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ª–æ–≥–∏ –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

–ü–æ —Å—É—Ç–∏, –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ **—Ç—Ä–∞–Ω—Å–ª–∏—Ä—É—é—Ç—Å—è –≤—Å–µ–º –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º**.

---

## –û–±–º–µ–Ω–Ω–∏–∫–∏ (Exchanges)

–í –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —É—Ä–æ–∫–∞—Ö –º—ã –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏ –∏ –ø–æ–ª—É—á–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é –≤/–∏–∑ –æ—á–µ—Ä–µ–¥–∏. –¢–µ–ø–µ—Ä—å –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –ø–æ–ª–Ω–æ–π –º–æ–¥–µ–ª—å—é –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤ RabbitMQ.

### –ë—ã—Å—Ç—Ä–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ

–î–∞–≤–∞–π—Ç–µ –≤—Å–ø–æ–º–Ω–∏–º, —á—Ç–æ –º—ã —É–∂–µ –∏–∑—É—á–∏–ª–∏:

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å (Producer)** ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- **–û—á–µ—Ä–µ–¥—å (Queue)** ‚Äî –±—É—Ñ–µ—Ä, —Ö—Ä–∞–Ω—è—â–∏–π —Å–æ–æ–±—â–µ–Ω–∏—è
- **–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å (Consumer)** ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è

### –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é –≤ –æ—á–µ—Ä–µ–¥—å.** –ë–æ–ª–µ–µ —Ç–æ–≥–æ, —á–∞—Å—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –¥–∞–∂–µ –Ω–µ –∑–Ω–∞–µ—Ç, –±—É–¥–µ—Ç –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –≤ –∫–∞–∫—É—é-–ª–∏–±–æ –æ—á–µ—Ä–µ–¥—å –≤–æ–æ–±—â–µ.

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ **–æ–±–º–µ–Ω–Ω–∏–∫ (exchange)**.

### –ß—Ç–æ —Ç–∞–∫–æ–µ –æ–±–º–µ–Ω–Ω–∏–∫?

**–û–±–º–µ–Ω–Ω–∏–∫** ‚Äî —ç—Ç–æ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–∞—è —Å—É—â–Ω–æ—Å—Ç—å:
- –° –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –æ–Ω –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π
- –° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –æ–Ω –ø—Ä–æ—Ç–∞–ª–∫–∏–≤–∞–µ—Ç –∏—Ö –≤ –æ—á–µ—Ä–µ–¥–∏

–û–±–º–µ–Ω–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω —Ç–æ—á–Ω–æ –∑–Ω–∞—Ç—å, —á—Ç–æ –¥–µ–ª–∞—Ç—å —Å –ø–æ–ª—É—á–µ–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º:
- –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –æ—á–µ—Ä–µ–¥—å?
- –î–æ–±–∞–≤–∏—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—á–µ—Ä–µ–¥–µ–π?
- –û—Ç–±—Ä–æ—Å–∏—Ç—å?

–ü—Ä–∞–≤–∏–ª–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è **—Ç–∏–ø–æ–º –æ–±–º–µ–Ω–Ω–∏–∫–∞** (exchange type).

```
  [Producer] 
      |
      v
  [Exchange] ---> [Queue 1] ---> [Consumer 1]
      |
      +---------> [Queue 2] ---> [Consumer 2]
      |
      +---------> [Queue 3] ---> [Consumer 3]
```

### –¢–∏–ø—ã –æ–±–º–µ–Ω–Ω–∏–∫–æ–≤

–î–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã:
- `direct` ‚Äî —Ç–æ—á–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ –∫–ª—é—á—É (–£—Ä–æ–∫ 4)
- `topic` ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ —à–∞–±–ª–æ–Ω—É (–£—Ä–æ–∫ 5)
- `headers` ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º
- `fanout` ‚Äî **—Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è –≤—Å–µ–º** (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —ç—Ç–æ–º —É—Ä–æ–∫–µ)

### –û–±–º–µ–Ω–Ω–∏–∫ —Ç–∏–ø–∞ Fanout

**Fanout** ‚Äî —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Ç–∏–ø –æ–±–º–µ–Ω–Ω–∏–∫–∞. –ö–∞–∫ –º–æ–∂–Ω–æ –¥–æ–≥–∞–¥–∞—Ç—å—Å—è –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è, –æ–Ω **—Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç –≤—Å–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤—Å–µ–º –∏–∑–≤–µ—Å—Ç–Ω—ã–º –µ–º—É –æ—á–µ—Ä–µ–¥—è–º**. –ò–º–µ–Ω–Ω–æ —ç—Ç–æ –Ω–∞–º –∏ –Ω—É–∂–Ω–æ –¥–ª—è –ª–æ–≥–≥–µ—Ä–∞!

---

## –°–æ–∑–¥–∞–Ω–∏–µ –æ–±–º–µ–Ω–Ω–∏–∫–∞ –≤ 1–°

> **‚ö†Ô∏è –í–∞–∂–Ω–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** –í API `–ö–ª–∏–µ–Ω—ÇRMQ` **–Ω–µ—Ç —è–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏** –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ–±–º–µ–Ω–Ω–∏–∫–æ–≤ (–∞–Ω–∞–ª–æ–≥–∞ `exchange_declare` –≤ Python). 

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±–º–µ–Ω–Ω–∏–∫–∞–º–∏ –≤ 1–° –µ—Å—Ç—å –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Management UI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ RabbitMQ Management UI: http://localhost:15672
2. –í–æ–π–¥–∏—Ç–µ (–ª–æ–≥–∏–Ω: `rmuser`, –ø–∞—Ä–æ–ª—å: `rmpassword`)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Exchanges"**
4. –ù–∞–∂–º–∏—Ç–µ **"Add a new exchange"**
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:
   - **Name:** `logs`
   - **Type:** `fanout`
   - **Durability:** `Durable` (–¥–ª—è production) –∏–ª–∏ `Transient` (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
   - **Auto delete:** `No`
6. –ù–∞–∂–º–∏—Ç–µ **"Add exchange"**

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –æ–±–º–µ–Ω–Ω–∏–∫–∞ (–¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞)

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ **–ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –æ–±–º–µ–Ω–Ω–∏–∫–∞–º** RabbitMQ:

```bsl
// –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –æ–±–º–µ–Ω–Ω–∏–∫–∏:
–ö–ª–∏–µ–Ω—ÇRMQ.Exchange_fanout()   // "amq.fanout"  - –¥–ª—è —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏
–ö–ª–∏–µ–Ω—ÇRMQ.Exchange_direct()   // "amq.direct"  - –¥–ª—è routing
–ö–ª–∏–µ–Ω—ÇRMQ.Exchange_topic()    // "amq.topic"   - –¥–ª—è topics
–ö–ª–∏–µ–Ω—ÇRMQ.Exchange_headers()  // "amq.headers" - –¥–ª—è headers
```

–î–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `amq.fanout`:

```bsl
–¢–æ—á–∫–∞–û–±–º–µ–Ω–∞ = –ö–ª–∏–µ–Ω—ÇRMQ.Exchange_fanout(); // –í–µ—Ä–Ω–µ—Ç "amq.fanout"
```

### –û–±–º–µ–Ω–Ω–∏–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–í –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —É—Ä–æ–∫–∞—Ö –º—ã –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–ª–∏ –æ–± –æ–±–º–µ–Ω–Ω–∏–∫–∞—Ö, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –º–æ–≥–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –æ—á–µ—Ä–µ–¥–∏. –≠—Ç–æ –±—ã–ª–æ –≤–æ–∑–º–æ–∂–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è **–æ–±–º–µ–Ω–Ω–∏–∫—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**, –∫–æ—Ç–æ—Ä—ã–π –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç—Å—è –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–æ–π (`""`).

–í—Å–ø–æ–º–Ω–∏–º, –∫–∞–∫ –º—ã –ø—É–±–ª–∏–∫–æ–≤–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–∞–Ω—å—à–µ:

```bsl
// –£—Ä–æ–∫ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±–º–µ–Ω–Ω–∏–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
–ö–ª–∏–µ–Ω—ÇRMQ.–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å–°–æ–æ–±—â–µ–Ω–∏–µ(–ö–∞–Ω–∞–ª, "Hello World!", "hello", "");
//                                                        ^       ^
//                                                        |       –û–±–º–µ–Ω–Ω–∏–∫ = "" (default)
//                                                        routing_key = –∏–º—è –æ—á–µ—Ä–µ–¥–∏
```

–ü–∞—Ä–∞–º–µ—Ç—Ä `–¢–æ—á–∫–∞–û–±–º–µ–Ω–∞` ‚Äî —ç—Ç–æ –∏–º—è –æ–±–º–µ–Ω–Ω–∏–∫–∞. **–ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –æ–∑–Ω–∞—á–∞–µ—Ç –æ–±–º–µ–Ω–Ω–∏–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: —Å–æ–æ–±—â–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å —Å –∏–º–µ–Ω–µ–º, —É–∫–∞–∑–∞–Ω–Ω—ã–º –≤ `routing_key`.

### –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –æ–±–º–µ–Ω–Ω–∏–∫

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤ –Ω–∞—à –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –æ–±–º–µ–Ω–Ω–∏–∫:

```bsl
// –í–∞—Ä–∏–∞–Ω—Ç –ê: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–±–º–µ–Ω–Ω–∏–∫ "logs"
–ö–ª–∏–µ–Ω—ÇRMQ.–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å–°–æ–æ–±—â–µ–Ω–∏–µ(–ö–∞–Ω–∞–ª, –°–æ–æ–±—â–µ–Ω–∏–µ, "", "logs");
//                                                  ^    ^
//                                                  |    –û–±–º–µ–Ω–Ω–∏–∫ "logs"
//                                                  routing_key = "" (–¥–ª—è fanout –Ω–µ –≤–∞–∂–µ–Ω)

// –í–∞—Ä–∏–∞–Ω—Ç –ë: –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –æ–±–º–µ–Ω–Ω–∏–∫
–ö–ª–∏–µ–Ω—ÇRMQ.–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å–°–æ–æ–±—â–µ–Ω–∏–µ(–ö–∞–Ω–∞–ª, –°–æ–æ–±—â–µ–Ω–∏–µ, "", –ö–ª–∏–µ–Ω—ÇRMQ.Exchange_fanout());
```

---

## –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ (Temporary Queues)

–†–∞–Ω–µ–µ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –æ—á–µ—Ä–µ–¥–∏ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ (`hello`, `task_queue`). –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–º–µ–Ω–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥—å –±—ã–ª–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞ ‚Äî –Ω–∞–º –Ω—É–∂–Ω–æ –±—ã–ª–æ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤–æ—Ä–∫–µ—Ä–æ–≤ –≤ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –æ—á–µ—Ä–µ–¥—å.

**–ù–æ –¥–ª—è –ª–æ–≥–≥–µ—Ä–∞ —ç—Ç–æ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç!** –ú—ã —Ö–æ—Ç–∏–º:
- –°–ª—ã—à–∞—Ç—å **–≤—Å–µ** —Å–æ–æ–±—â–µ–Ω–∏—è –ª–æ–≥–æ–≤, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∏—Ö —á–∞—Å—Ç—å
- –ò–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ **—Ç–µ–∫—É—â–∏–º–∏** —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, –∞ –Ω–µ —Å—Ç–∞—Ä—ã–º–∏

–î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–∏—Ö –∑–∞–¥–∞—á –Ω–∞–º –Ω—É–∂–Ω—ã –¥–≤–µ –≤–µ—â–∏:

### 1. –°–ª—É—á–∞–π–Ω–æ–µ –∏–º—è –æ—á–µ—Ä–µ–¥–∏

–í—Å—è–∫–∏–π —Ä–∞–∑ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞–º –Ω—É–∂–Ω–∞ **—Å–≤–µ–∂–∞—è –ø—É—Å—Ç–∞—è –æ—á–µ—Ä–µ–¥—å**. –ú—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –æ—á–µ—Ä–µ–¥—å —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º –∏–º–µ–Ω–µ–º, –∏–ª–∏, –µ—â–µ –ª—É—á—à–µ ‚Äî **–ø–æ–∑–≤–æ–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä—É –≤—ã–±—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –∏–º—è** –∑–∞ –Ω–∞—Å.

**–í 1–°:**

```bsl
// –û–±—ä—è–≤–ª—è–µ–º –æ—á–µ—Ä–µ–¥—å —Å –ø—É—Å—Ç—ã–º –∏–º–µ–Ω–µ–º
–û—á–µ—Ä–µ–¥—å = –ö–ª–∏–µ–Ω—ÇRMQ.–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å(
    –ö–∞–Ω–∞–ª,
    "",          // –ò–º—è–û—á–µ—Ä–µ–¥–∏ = "" - —Å–µ—Ä–≤–µ—Ä —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ –∏–º—è
    "",          // –ö–ª—é—á–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
    "logs",      // –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞
    –õ–æ–∂—å         // –°–æ—Ö—Ä–∞–Ω—è—Ç—å–û—á–µ—Ä–µ–¥—å = –õ–æ–∂—å (–Ω–µ durable)
);

// –ü–æ–ª—É—á–∞–µ–º —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è
–ò–º—è–û—á–µ—Ä–µ–¥–∏ = –û—á–µ—Ä–µ–¥—å.–ò–º—è–û—á–µ—Ä–µ–¥–∏;  // –ù–∞–ø—Ä–∏–º–µ—Ä: "amq.gen-XYZ123..."

–°–æ–æ–±—â–∏—Ç—å("–°–æ–∑–¥–∞–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å: " + –ò–º—è–û—á–µ—Ä–µ–¥–∏);
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è, –æ—á–µ—Ä–µ–¥—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å **—É–¥–∞–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–ª–∞–≥ `exclusive`:

```bsl
// –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –æ—á–µ—Ä–µ–¥—å —Å –∞–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ–º
–û—á–µ—Ä–µ–¥—å = –ö–ª–∏–µ–Ω—ÇRMQ.–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å(
    –ö–∞–Ω–∞–ª,
    "",          // –°–ª—É—á–∞–π–Ω–æ–µ –∏–º—è
    "",          // –ö–ª—é—á –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
    "logs",      // –û–±–º–µ–Ω–Ω–∏–∫
    –õ–æ–∂—å,        // –°–æ—Ö—Ä–∞–Ω—è—Ç—å–û—á–µ—Ä–µ–¥—å (durable)
    –ò—Å—Ç–∏–Ω–∞,      // –û—á–µ—Ä–µ–¥—å–î–æ—Å—Ç—É–ø–Ω–∞–¢–æ–ª—å–∫–æ–û–¥–Ω–æ–º—É–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—é–ö–æ—Ç–æ—Ä–æ–µ–ï–µ–°–æ–∑–¥–∞–ª–æ–ò–ù–µ–¥–æ—Å—Ç—É–ø–Ω–∞–î—Ä—É–≥–∏–º (exclusive)
    –ò—Å—Ç–∏–Ω–∞       // –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ–ü–æ—Å–ª–µ–û—Ç–∫–ª—é—á–µ–Ω–∏—è–ü–æ—Å–ª–µ–¥–Ω–µ–≥–æ–ü–æ–¥–ø–∏—Å—á–∏–∫–∞ (auto-delete)
);
```

**–ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**
- `exclusive = –ò—Å—Ç–∏–Ω–∞` ‚Äî —Ç–æ–ª—å–∫–æ —ç—Ç–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥—å
- `auto-delete = –ò—Å—Ç–∏–Ω–∞` ‚Äî –æ—á–µ—Ä–µ–¥—å —É–¥–∞–ª–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –æ—Ç–∫–ª—é—á–∏—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø–æ–¥–ø–∏—Å—á–∏–∫

---

## –ü—Ä–∏–≤—è–∑–∫–∏ (Bindings)

```
  [Exchange: logs] 
         |
         |  (binding)
         v
    [Queue: amq.gen-XYZ123]
```

–ú—ã —É–∂–µ —Å–æ–∑–¥–∞–ª–∏ –æ–±–º–µ–Ω–Ω–∏–∫ `fanout` –∏ –æ—á–µ—Ä–µ–¥—å. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å –æ–±–º–µ–Ω–Ω–∏–∫—É –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –Ω–∞—à—É –æ—á–µ—Ä–µ–¥—å. –≠—Ç–∞ —Å–≤—è–∑—å –º–µ–∂–¥—É –æ–±–º–µ–Ω–Ω–∏–∫–æ–º –∏ –æ—á–µ—Ä–µ–¥—å—é –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **–ø—Ä–∏–≤—è–∑–∫–æ–π (binding)**.


### –í 1–°

**–ü—Ä–∏–≤—è–∑–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–µ—è–≤–Ω–æ** –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å` —Å —É–∫–∞–∑–∞–Ω–∏–µ–º `–¢–æ—á–∫–∞–û–±–º–µ–Ω–∞`:

```bsl
// –ü—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –æ—á–µ—Ä–µ–¥–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –æ–±–º–µ–Ω–Ω–∏–∫–∞
// –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏–≤—è–∑–∫–∞ (binding)
–û—á–µ—Ä–µ–¥—å = –ö–ª–∏–µ–Ω—ÇRMQ.–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å(
    –ö–∞–Ω–∞–ª,
    "",       // –ò–º—è–û—á–µ—Ä–µ–¥–∏ (—Å–ª—É—á–∞–π–Ω–æ–µ)
    "",       // –ö–ª—é—á–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ (–¥–ª—è fanout –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)
    "logs",   // –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞ - –∑–¥–µ—Å—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏–≤—è–∑–∫–∞!
    –õ–æ–∂—å,     // durable
    –ò—Å—Ç–∏–Ω–∞,   // exclusive
    –ò—Å—Ç–∏–Ω–∞    // auto-delete
);

// –¢–µ–ø–µ—Ä—å –æ–±–º–µ–Ω–Ω–∏–∫ "logs" –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –Ω–∞—à—É –æ—á–µ—Ä–µ–¥—å
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–∏–≤—è–∑–æ–∫

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–∏–≤—è–∑–∫–∏:

**–ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:**
```bash
rabbitmqctl list_bindings
```

**–ß–µ—Ä–µ–∑ Management UI:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:15672
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Queues"**
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–º—è –æ—á–µ—Ä–µ–¥–∏
4. –í–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞–∑–¥–µ–ª **"Bindings"** –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –ø—Ä–∏–≤—è–∑–∫–∏

---

## –°–æ–±–∏—Ä–∞–µ–º –≤—Å—ë –≤–º–µ—Å—Ç–µ (Putting It All Together)

```
  [emit_log] ---> [Exchange: logs] ---> [Queue 1] ---> [receive_logs #1]
                        |
                        +-------------> [Queue 2] ---> [receive_logs #2]
```

### –ò–∑–¥–∞—Ç–µ–ª—å (emit_log)

–ü—Ä–æ–≥—Ä–∞–º–º–∞-–∏–∑–¥–∞—Ç–µ–ª—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —É—Ä–æ–∫–æ–≤. –ì–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ ‚Äî –º—ã –ø—É–±–ª–∏–∫—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –æ–±–º–µ–Ω–Ω–∏–∫ `logs` –≤–º–µ—Å—Ç–æ –±–µ–∑—ã–º—è–Ω–Ω–æ–≥–æ –æ–±–º–µ–Ω–Ω–∏–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

```bsl
&–ù–∞–°–µ—Ä–≤–µ—Ä–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ù–∞–°–µ—Ä–≤–µ—Ä–µ(–¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è)
    
    // 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
    –ö–ª–∏–µ–Ω—ÇRMQ = –û–±—Ä–∞–±–æ—Ç–∫–∏.–ö–ª–∏–µ–Ω—ÇRMQ.–°–æ–∑–¥–∞—Ç—å();
    –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ = –ö–ª–∏–µ–Ω—ÇRMQ.–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è–ö–°–µ—Ä–≤–µ—Ä—É("amqp://rmuser:rmpassword@localhost:5672/%2f");
    
    –ï—Å–ª–∏ –ö–ª–∏–µ–Ω—ÇRMQ.–≠—Ç–æ–û—à–∏–±–∫–∞(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ) –¢–æ–≥–¥–∞
        –í—ã–∑–≤–∞—Ç—å–ò—Å–∫–ª—é—á–µ–Ω–∏–µ "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ RabbitMQ";
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    // 2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞
    –ö–∞–Ω–∞–ª = –ö–ª–∏–µ–Ω—ÇRMQ.–°–æ–∑–¥–∞—Ç—å–ö–∞–Ω–∞–ª(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ);
    
    // 3. –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –æ–±–º–µ–Ω–Ω–∏–∫ "logs" (fanout)
    //    –í–∞—Ä–∏–∞–Ω—Ç –ê: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–±–º–µ–Ω–Ω–∏–∫ (—Å–æ–∑–¥–∞–π—Ç–µ —á–µ—Ä–µ–∑ Management UI)
    –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞ = "logs";
    
    //    –í–∞—Ä–∏–∞–Ω—Ç –ë: –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –æ–±–º–µ–Ω–Ω–∏–∫ (–¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞)
    //    –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞ = –ö–ª–∏–µ–Ω—ÇRMQ.Exchange_fanout(); // "amq.fanout"
    
    –û—Ç–≤–µ—Ç = –ö–ª–∏–µ–Ω—ÇRMQ.–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å–°–æ–æ–±—â–µ–Ω–∏–µ(
        –ö–∞–Ω–∞–ª, 
        –¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è,  // –î–∞–Ω–Ω—ã–µ
        "",              // –ö–ª—é—á–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ (–¥–ª—è fanout –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
        –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞      // –û–±–º–µ–Ω–Ω–∏–∫ "logs"
    );
    
    –ï—Å–ª–∏ –ö–ª–∏–µ–Ω—ÇRMQ.–≠—Ç–æ–û—à–∏–±–∫–∞(–û—Ç–≤–µ—Ç) –¢–æ–≥–¥–∞
        –ö–ª–∏–µ–Ω—ÇRMQ.–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è–û—Ç–°–µ—Ä–≤–µ—Ä–∞(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ);
        –í—ã–∑–≤–∞—Ç—å–ò—Å–∫–ª—é—á–µ–Ω–∏–µ "–û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏: " + –û—Ç–≤–µ—Ç.–¢–µ–∫—Å—Ç;
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    –°–æ–æ–±—â–∏—Ç—å(" [x] –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: " + –¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è);
    
    // 4. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ
    –ö–ª–∏–µ–Ω—ÇRMQ.–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è–û—Ç–°–µ—Ä–≤–µ—Ä–∞(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ);
    
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã

// –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∫–æ–º–∞–Ω–¥–∞
&–ù–∞–ö–ª–∏–µ–Ω—Ç–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥(–ö–æ–º–∞–Ω–¥–∞)
    –¢–µ–∫—Å—Ç–õ–æ–≥–∞ = "info: " + –¢–µ–∫—É—â–∞—è–î–∞—Ç–∞() + " - —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ";
    –û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ù–∞–°–µ—Ä–≤–µ—Ä–µ(–¢–µ–∫—Å—Ç–õ–æ–≥–∞);
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

**–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

1. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –º—ã **–ù–ï** –æ–±—ä—è–≤–ª—è–µ–º –æ–±–º–µ–Ω–Ω–∏–∫ (—ç—Ç–æ –æ—Ç–ª–∏—á–∏–µ –æ—Ç Python). –û–±–º–µ–Ω–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω –∑–∞—Ä–∞–Ω–µ–µ —á–µ—Ä–µ–∑ Management UI –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π.

2. –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç **–ø–æ—Ç–µ—Ä—è–Ω—ã**, –µ—Å–ª–∏ –Ω–∏ –æ–¥–Ω–∞ –æ—á–µ—Ä–µ–¥—å –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –æ–±–º–µ–Ω–Ω–∏–∫—É. –ù–æ –¥–ª—è –Ω–∞—Å —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ ‚Äî –µ—Å–ª–∏ –Ω–∏–∫—Ç–æ –Ω–µ —Å–ª—É—à–∞–µ—Ç, –º—ã –º–æ–∂–µ–º —Å–ø–æ–∫–æ–π–Ω–æ –æ—Ç–±—Ä–æ—Å–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ.

3. `routing_key` –¥–ª—è `fanout` –æ–±–º–µ–Ω–Ω–∏–∫–∞ **–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è**, –ø–æ—ç—Ç–æ–º—É –º—ã –ø–µ—Ä–µ–¥–∞–µ–º –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É.

---

### –ü–æ–¥–ø–∏—Å—á–∏–∫ (receive_logs)

```bsl
// ‚ö†Ô∏è –≠—Ç–æ—Ç –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ –†–ï–ì–õ–ê–ú–ï–ù–¢–ù–û–ú –ó–ê–î–ê–ù–ò–ò –∏–ª–∏ –§–û–ù–û–í–û–ú –ó–ê–î–ê–ù–ò–ò!

&–ù–∞–°–µ—Ä–≤–µ—Ä–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ü–æ–ª—É—á–∞—Ç—å–õ–æ–≥–∏–í–§–æ–Ω–µ() –≠–∫—Å–ø–æ—Ä—Ç
    
    // 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
    –ö–ª–∏–µ–Ω—ÇRMQ = –û–±—Ä–∞–±–æ—Ç–∫–∏.–ö–ª–∏–µ–Ω—ÇRMQ.–°–æ–∑–¥–∞—Ç—å();
    –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ = –ö–ª–∏–µ–Ω—ÇRMQ.–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è–ö–°–µ—Ä–≤–µ—Ä—É("amqp://rmuser:rmpassword@localhost:5672/%2f");
    
    –ï—Å–ª–∏ –ö–ª–∏–µ–Ω—ÇRMQ.–≠—Ç–æ–û—à–∏–±–∫–∞(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ) –¢–æ–≥–¥–∞
        –í—ã–∑–≤–∞—Ç—å–ò—Å–∫–ª—é—á–µ–Ω–∏–µ "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ RabbitMQ";
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    –ü–æ–ø—ã—Ç–∫–∞
        // 2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞
        –ö–∞–Ω–∞–ª = –ö–ª–∏–µ–Ω—ÇRMQ.–°–æ–∑–¥–∞—Ç—å–ö–∞–Ω–∞–ª(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ);
        
        // 3. –û–±—ä—è–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏ —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –æ–±–º–µ–Ω–Ω–∏–∫—É
        //    –í–∞—Ä–∏–∞–Ω—Ç –ê: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–±–º–µ–Ω–Ω–∏–∫
        –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞ = "logs";
        
        //    –í–∞—Ä–∏–∞–Ω—Ç –ë: –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –æ–±–º–µ–Ω–Ω–∏–∫
        //    –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞ = –ö–ª–∏–µ–Ω—ÇRMQ.Exchange_fanout();
        
        –û—á–µ—Ä–µ–¥—å = –ö–ª–∏–µ–Ω—ÇRMQ.–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å(
            –ö–∞–Ω–∞–ª,
            "",           // –ò–º—è–û—á–µ—Ä–µ–¥–∏ = "" (—Å–ª—É—á–∞–π–Ω–æ–µ –∏–º—è)
            "",           // –ö–ª—é—á–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ (–¥–ª—è fanout –Ω–µ –≤–∞–∂–µ–Ω)
            –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞,  // –û–±–º–µ–Ω–Ω–∏–∫ "logs"
            –õ–æ–∂—å,         // –°–æ—Ö—Ä–∞–Ω—è—Ç—å–û—á–µ—Ä–µ–¥—å (–Ω–µ durable)
            –ò—Å—Ç–∏–Ω–∞,       // –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –æ—á–µ—Ä–µ–¥—å
            –ò—Å—Ç–∏–Ω–∞        // –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ
        );
        
        –ò–º—è–û—á–µ—Ä–µ–¥–∏ = –û—á–µ—Ä–µ–¥—å.–ò–º—è–û—á–µ—Ä–µ–¥–∏;
        –°–æ–æ–±—â–∏—Ç—å(" [*] –°–æ–∑–¥–∞–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å: " + –ò–º—è–û—á–µ—Ä–µ–¥–∏);
        
        // 4. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
        –ü–æ–ª—É—á–∞—Ç–µ–ª—å = –ö–ª–∏–µ–Ω—ÇRMQ.–°–æ–∑–¥–∞—Ç—å–ü–æ–ª—É—á–∞—Ç–µ–ª—è(
            –ö–∞–Ω–∞–ª, 
            –ò–º—è–û—á–µ—Ä–µ–¥–∏,
            "",      // –¢—ç–≥–ü–æ–ª—É—á–∞—Ç–µ–ª—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)
            –ò—Å—Ç–∏–Ω–∞   // no_ack = –ò—Å—Ç–∏–Ω–∞ (–∞–≤—Ç–æ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ)
        );
        
        –°–æ–æ–±—â–∏—Ç—å(" [*] –û–∂–∏–¥–∞–Ω–∏–µ –ª–æ–≥–æ–≤. –î–ª—è –≤—ã—Ö–æ–¥–∞ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C");
        
        // 5. –¶–∏–∫–ª –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
        –ü–æ–∫–∞ –ö–ª–∏–µ–Ω—ÇRMQ.–°–ª–µ–¥—É—é—â–µ–µ–°–æ–æ–±—â–µ–Ω–∏–µ(–ü–æ–ª—É—á–∞—Ç–µ–ª—å) –¶–∏–∫–ª
            
            –î–∞–Ω–Ω—ã–µ–°–æ–æ–±—â–µ–Ω–∏—è = –ö–ª–∏–µ–Ω—ÇRMQ.–î–∞–Ω–Ω—ã–µ–°–æ–æ–±—â–µ–Ω–∏—è();
            
            –ï—Å–ª–∏ –ö–ª–∏–µ–Ω—ÇRMQ.–≠—Ç–æ–û—à–∏–±–∫–∞(–î–∞–Ω–Ω—ã–µ–°–æ–æ–±—â–µ–Ω–∏—è) –¢–æ–≥–¥–∞
                –ü—Ä–µ—Ä–≤–∞—Ç—å;
            –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ª–æ–≥–∞
            –°–æ–æ–±—â–∏—Ç—å(" [x] " + –î–∞–Ω–Ω—ã–µ–°–æ–æ–±—â–µ–Ω–∏—è.–î–∞–Ω–Ω—ã–µ);
            
            // –ú–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –±–∞–∑—É –∏ —Ç.–¥.
            // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å–õ–æ–≥–í–§–∞–π–ª(–î–∞–Ω–Ω—ã–µ–°–æ–æ–±—â–µ–Ω–∏—è.–î–∞–Ω–Ω—ã–µ);
            
        –ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
        
    –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
        –ó–∞–ø–∏—Å—å–õ–æ–≥–∞–°–∏—Å—Ç–µ–º—ã("RabbitMQ", –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏(), , , –£—Ä–æ–≤–µ–Ω—å–õ–æ–≥–∞–°–∏—Å—Ç–µ–º—ã.–û—à–∏–±–∫–∞);
    –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
    
    // 6. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ (–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å —É–¥–∞–ª–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
    –ö–ª–∏–µ–Ω—ÇRMQ.–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è–û—Ç–°–µ—Ä–≤–µ—Ä–∞(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ);
    
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

---

## –ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –æ–±–º–µ–Ω–Ω–∏–∫ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç –ê)

–ß–µ—Ä–µ–∑ Management UI —Å–æ–∑–¥–∞–π—Ç–µ –æ–±–º–µ–Ω–Ω–∏–∫:
- **Name:** `logs`
- **Type:** `fanout`

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–æ–Ω–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ:

```bsl
&–ù–∞–ö–ª–∏–µ–Ω—Ç–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ó–∞–ø—É—Å—Ç–∏—Ç—å–ü–æ–¥–ø–∏—Å—á–∏–∫–∞1(–ö–æ–º–∞–Ω–¥–∞)
    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–¥–∞–Ω–∏—è = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
    –§–æ–Ω–æ–≤—ã–µ–ó–∞–¥–∞–Ω–∏—è.–í—ã–ø–æ–ª–Ω–∏—Ç—å("–ü–æ–ª—É—á–∞—Ç—å–õ–æ–≥–∏–í–§–æ–Ω–µ", –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–¥–∞–Ω–∏—è, , "–ü–æ–¥–ø–∏—Å—á–∏–∫ –ª–æ–≥–æ–≤ #1");
    –°–æ–æ–±—â–∏—Ç—å("–ü–æ–¥–ø–∏—Å—á–∏–∫ #1 –∑–∞–ø—É—â–µ–Ω");
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞

```bsl
&–ù–∞–ö–ª–∏–µ–Ω—Ç–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ó–∞–ø—É—Å—Ç–∏—Ç—å–ü–æ–¥–ø–∏—Å—á–∏–∫–∞2(–ö–æ–º–∞–Ω–¥–∞)
    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–¥–∞–Ω–∏—è = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
    –§–æ–Ω–æ–≤—ã–µ–ó–∞–¥–∞–Ω–∏—è.–í—ã–ø–æ–ª–Ω–∏—Ç—å("–ü–æ–ª—É—á–∞—Ç—å–õ–æ–≥–∏–í–§–æ–Ω–µ", –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–¥–∞–Ω–∏—è, , "–ü–æ–¥–ø–∏—Å—á–∏–∫ –ª–æ–≥–æ–≤ #2");
    –°–æ–æ–±—â–∏—Ç—å("–ü–æ–¥–ø–∏—Å—á–∏–∫ #2 –∑–∞–ø—É—â–µ–Ω");
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

### –®–∞–≥ 4: –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª–æ–≥

```bsl
&–ù–∞–ö–ª–∏–µ–Ω—Ç–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥(–ö–æ–º–∞–Ω–¥–∞)
    –¢–µ–∫—Å—Ç–õ–æ–≥–∞ = "–í–∞–∂–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ: " + –°—Ç—Ä–æ–∫–∞(–¢–µ–∫—É—â–∞—è–î–∞—Ç–∞());
    –û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ù–∞–°–µ—Ä–≤–µ—Ä–µ(–¢–µ–∫—Å—Ç–õ–æ–≥–∞);
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ª–æ–≥–∞ **–æ–±–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞** –ø–æ–ª—É—á–∞—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:

```
–ü–æ–¥–ø–∏—Å—á–∏–∫ #1:
 [*] –°–æ–∑–¥–∞–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å: amq.gen-ABC123
 [*] –û–∂–∏–¥–∞–Ω–∏–µ –ª–æ–≥–æ–≤...
 [x] –í–∞–∂–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ: 25.12.2025 15:30:45

–ü–æ–¥–ø–∏—Å—á–∏–∫ #2:
 [*] –°–æ–∑–¥–∞–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å: amq.gen-XYZ789
 [*] –û–∂–∏–¥–∞–Ω–∏–µ –ª–æ–≥–æ–≤...
 [x] –í–∞–∂–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ: 25.12.2025 15:30:45
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Management UI

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:15672
2. –í–∫–ª–∞–¥–∫–∞ **"Queues"** ‚Äî –≤—ã —É–≤–∏–¥–∏—Ç–µ –¥–≤–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `amq.gen-ABC123` –∏ `amq.gen-XYZ789`)
3. –í–∫–ª–∞–¥–∫–∞ **"Exchanges"** ‚Üí `logs` ‚Üí **"Bindings"** ‚Äî —É–≤–∏–¥–∏—Ç–µ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –¥–≤—É–º –æ—á–µ—Ä–µ–¥—è–º

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```bash
rabbitmqctl list_bindings
# => Listing bindings ...
# => logs    exchange    amq.gen-ABC123    queue    []
# => logs    exchange    amq.gen-XYZ789    queue    []
```

–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è: –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ–±–º–µ–Ω–Ω–∏–∫–∞ `logs` –Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –¥–≤–µ –æ—á–µ—Ä–µ–¥–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏. –ò–º–µ–Ω–Ω–æ —ç—Ç–æ –º—ã –∏ —Ö–æ—Ç–µ–ª–∏!

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ 1–°

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```bsl
// –í —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞—Ö –ø—É–±–ª–∏–∫—É–µ–º —Å–æ–±—ã—Ç–∏—è
–û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥("–°–∫–ª–∞–¥: –ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ #12345");
–û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥("–ü—Ä–æ–¥–∞–∂–∏: –ù–æ–≤—ã–π –∑–∞–∫–∞–∑ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞");
–û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥("–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è: –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –æ—Ç—á–µ—Ç");

// –ü–æ–¥–ø–∏—Å—á–∏–∫ #1: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –ª–æ–≥–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
// –ü–æ–¥–ø–∏—Å—á–∏–∫ #2: –í—ã–≤–æ–¥–∏—Ç –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
// –ü–æ–¥–ø–∏—Å—á–∏–∫ #3: –§–∏–ª—å—Ç—Ä—É–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Telegram
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```bsl
// –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø—É–±–ª–∏–∫—É–µ–º —Å–æ–±—ã—Ç–∏–µ
–û—Ç–ø—Ä–∞–≤–∏—Ç—å–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ("–î–æ–∫—É–º–µ–Ω—Ç '–ó–∞–∫–∞–∑ ‚Ññ123' –∏–∑–º–µ–Ω–µ–Ω");

// –ü–æ–¥–ø–∏—Å—á–∏–∫ #1: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç email –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–º—É
// –ü–æ–¥–ø–∏—Å—á–∏–∫ #2: –°–æ–∑–¥–∞–µ—Ç push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
// –ü–æ–¥–ø–∏—Å—á–∏–∫ #3: –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ –∂—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

```bsl
// –ü—É–±–ª–∏–∫–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
–û—Ç–ø—Ä–∞–≤–∏—Ç—å–ú–µ—Ç—Ä–∏–∫—É("–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 1.5 —Å–µ–∫—É–Ω–¥");

// –ü–æ–¥–ø–∏—Å—á–∏–∫ #1: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ InfluxDB –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
// –ü–æ–¥–ø–∏—Å—á–∏–∫ #2: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ—Ä–æ–≥–∏ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞–ª–µ—Ä—Ç—ã
// –ü–æ–¥–ø–∏—Å—á–∏–∫ #3: –ê–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤
```

---

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –ü–æ—Ç–µ—Ä—è —Å–æ–æ–±—â–µ–Ω–∏–π

–ï—Å–ª–∏ –≤ –º–æ–º–µ–Ω—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∏ –æ–¥–∏–Ω –ø–æ–¥–ø–∏—Å—á–∏–∫ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω, **—Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω–æ**. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Pub/Sub —Å `fanout` –æ–±–º–µ–Ω–Ω–∏–∫–æ–º.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `durable` –æ—á–µ—Ä–µ–¥–∏ –∏ persistent —Å–æ–æ–±—â–µ–Ω–∏—è (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≥–∞—Ä–∞–Ω—Ç–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏).

### 2. –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ —É–¥–∞–ª—è—é—Ç—Å—è

–ö–æ–≥–¥–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è, –µ–≥–æ –≤—Ä–µ–º–µ–Ω–Ω–∞—è `exclusive` –æ—á–µ—Ä–µ–¥—å **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è**. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Pub/Sub.

### 3. –û–±–º–µ–Ω–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å

–í 1–° –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –æ–±—ä—è–≤–∏—Ç—å –æ–±–º–µ–Ω–Ω–∏–∫ –∏–∑ –∫–æ–¥–∞. –°–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ –∑–∞—Ä–∞–Ω–µ–µ —á–µ—Ä–µ–∑ Management UI –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π (`amq.fanout`).

### 4. –ë–ª–æ–∫–∏—Ä—É—é—â–∏–π –∫–æ–¥ –≤ —Ñ–æ–Ω–µ

`–°–ª–µ–¥—É—é—â–µ–µ–°–æ–æ–±—â–µ–Ω–∏–µ()` –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –≤ —Ñ–æ–Ω–æ–≤—ã—Ö –∏–ª–∏ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏—è—Ö, –Ω–∏–∫–æ–≥–¥–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ UI!

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ú—ã –Ω–∞—É—á–∏–ª–∏—Å—å —Ç—Ä–∞–Ω—Å–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º. –ù–æ —á—Ç–æ –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è **—Ç–æ–ª—å–∫–æ –Ω–∞ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π**?

–í [–£—Ä–æ–∫–µ 4](./Lesson4_ru.md) –º—ã –∏–∑—É—á–∏–º **routing** (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é) ‚Äî –∫–∞–∫ –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ **–∫–ª—é—á–µ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏**.

---

## –†–µ–∑—é–º–µ

‚úÖ **–ò–∑—É—á–∏–ª–∏:**
- –ö–æ–Ω—Ü–µ–ø—Ü–∏—é –æ–±–º–µ–Ω–Ω–∏–∫–æ–≤ (Exchanges)
- –¢–∏–ø –æ–±–º–µ–Ω–Ω–∏–∫–∞ `fanout` –¥–ª—è —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏
- –ü—Ä–∏–≤—è–∑–∫–∏ (bindings) –º–µ–∂–¥—É –æ–±–º–µ–Ω–Ω–∏–∫–∞–º–∏ –∏ –æ—á–µ—Ä–µ–¥—è–º–∏
- –ü–∞—Ç—Ç–µ—Ä–Ω Publish/Subscribe

‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏:**
- –ò–∑–¥–∞—Ç–µ–ª—è –ª–æ–≥–æ–≤ (emit_log)
- –ü–æ–¥–ø–∏—Å—á–∏–∫–∞ –ª–æ–≥–æ–≤ (receive_logs)
- –°–∏—Å—Ç–µ–º—É —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º–∏

---

**–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫:** [–£—Ä–æ–∫ 4 - Routing (–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è)](./Lesson4_ru.md) üöÄ

