# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ RabbitMQ - –£—Ä–æ–∫ 4: "Routing" (–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è)

## –í–≤–µ–¥–µ–Ω–∏–µ (Introduction)

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- ‚úÖ RabbitMQ –∑–∞–ø—É—â–µ–Ω (—Å–º. [DOCKER_README.md](./DOCKER_README.md))
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `–ö–ª–∏–µ–Ω—ÇRMQ` –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –í—ã –∏–∑—É—á–∏–ª–∏ [–£—Ä–æ–∫ 1](./Lesson1_ru.md), [–£—Ä–æ–∫ 2](./Lesson2_ru.md) –∏ [–£—Ä–æ–∫ 3](./Lesson3_ru.md)

### –ß–µ–º—É –ø–æ—Å–≤—è—â–µ–Ω —ç—Ç–æ—Ç —É—Ä–æ–∫

–í [–ø—Ä–µ–¥—ã–¥—É—â–µ–º —É—Ä–æ–∫–µ](./Lesson3_ru.md) –º—ã –ø–æ—Å—Ç—Ä–æ–∏–ª–∏ –ø—Ä–æ—Å—Ç—É—é —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è. –ú—ã –º–æ–≥–ª–∏ —Ç—Ä–∞–Ω—Å–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –ª–æ–≥–æ–≤ –º–Ω–æ–∂–µ—Å—Ç–≤—É –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π.

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –¥–æ–±–∞–≤–∏–º –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å **–ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π**. –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã —Å–º–æ–∂–µ–º –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ —Ñ–∞–π–ª –ª–æ–≥–∞ (—á—Ç–æ–±—ã —ç–∫–æ–Ω–æ–º–∏—Ç—å –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ), –ø—Ä–∏ —ç—Ç–æ–º –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –±—É–¥—É—Ç –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω.

---

## –ü—Ä–∏–≤—è–∑–∫–∏ (Bindings)

–í –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö –º—ã —É–∂–µ —Å–æ–∑–¥–∞–≤–∞–ª–∏ –ø—Ä–∏–≤—è–∑–∫–∏. –ù–∞–ø–æ–º–Ω–∏–º –∫–æ–¥:

```bsl
// –í 1–° –ø—Ä–∏–≤—è–∑–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–µ—è–≤–Ω–æ –ø—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞
–û—á–µ—Ä–µ–¥—å = –ö–ª–∏–µ–Ω—ÇRMQ.–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å(
    –ö–∞–Ω–∞–ª,
    "",       // –ò–º—è–û—á–µ—Ä–µ–¥–∏ (—Å–ª—É—á–∞–π–Ω–æ–µ)
    "",       // –ö–ª—é—á–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
    "logs",   // –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞ - —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏–≤—è–∑–∫–∞
    –õ–æ–∂—å,     // durable
    –ò—Å—Ç–∏–Ω–∞,   // exclusive
    –ò—Å—Ç–∏–Ω–∞    // auto-delete
);
```

**–ü—Ä–∏–≤—è–∑–∫–∞ (binding)** ‚Äî —ç—Ç–æ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É –æ–±–º–µ–Ω–Ω–∏–∫–æ–º –∏ –æ—á–µ—Ä–µ–¥—å—é. –ú–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∫–∞–∫: **"–æ—á–µ—Ä–µ–¥—å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ —ç—Ç–æ–≥–æ –æ–±–º–µ–Ω–Ω–∏–∫–∞"**.

### –ü—Ä–∏–≤—è–∑–∫–∏ —Å –∫–ª—é—á–æ–º

–ü—Ä–∏–≤—è–∑–∫–∏ –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä ‚Äî **–∫–ª—é—á –ø—Ä–∏–≤—è–∑–∫–∏** (`binding key`). –í–æ—Ç –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≤—è–∑–∫—É —Å –∫–ª—é—á–æ–º:

```bsl
// –ü—Ä–∏–≤—è–∑–∫–∞ –æ—á–µ—Ä–µ–¥–∏ –∫ –æ–±–º–µ–Ω–Ω–∏–∫—É —Å –∫–ª—é—á–æ–º "error"
–û—á–µ—Ä–µ–¥—å = –ö–ª–∏–µ–Ω—ÇRMQ.–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å(
    –ö–∞–Ω–∞–ª,
    "",              // –ò–º—è–û—á–µ—Ä–µ–¥–∏
    "error",         // –ö–ª—é—á–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ = –∫–ª—é—á –ø—Ä–∏–≤—è–∑–∫–∏ (binding key)
    "direct_logs",   // –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞
    –õ–æ–∂—å,            // durable
    –ò—Å—Ç–∏–Ω–∞,          // exclusive
    –ò—Å—Ç–∏–Ω–∞           // auto-delete
);
```

**–ó–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞ –ø—Ä–∏–≤—è–∑–∫–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –æ–±–º–µ–Ω–Ω–∏–∫–∞.** –û–±–º–µ–Ω–Ω–∏–∫–∏ —Ç–∏–ø–∞ `fanout`, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ä–∞–Ω–µ–µ, –ø—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ.

---

## –û–±–º–µ–Ω–Ω–∏–∫ —Ç–∏–ø–∞ Direct

–ù–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —É—Ä–æ–∫–∞ —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤—Å–µ–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º. –ú—ã —Ö–æ—Ç–∏–º —Ä–∞—Å—à–∏—Ä–∏—Ç—å –µ—ë, —á—Ç–æ–±—ã **—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ —É—Ä–æ–≤–Ω—é –≤–∞–∂–Ω–æ—Å—Ç–∏**. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å–∫—Ä–∏–ø—Ç, –∑–∞–ø–∏—Å—ã–≤–∞—é—â–∏–π –ª–æ–≥–∏ –Ω–∞ –¥–∏—Å–∫, –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏ –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å –º–µ—Å—Ç–æ –Ω–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.

–ú—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –æ–±–º–µ–Ω–Ω–∏–∫ `fanout`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –¥–∞—ë—Ç –≥–∏–±–∫–æ—Å—Ç–∏ ‚Äî –æ–Ω —Å–ø–æ—Å–æ–±–µ–Ω —Ç–æ–ª—å–∫–æ –Ω–∞ –±–µ–∑–¥—É–º–Ω—É—é —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é.

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±–º–µ–Ω–Ω–∏–∫ —Ç–∏–ø–∞ **`direct`**. –ê–ª–≥–æ—Ä–∏—Ç–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –æ–±–º–µ–Ω–Ω–∏–∫–∞ `direct` –ø—Ä–æ—Å—Ç:

> **–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ç–µ –æ—á–µ—Ä–µ–¥–∏, —á–µ–π `binding key` (–∫–ª—é—á –ø—Ä–∏–≤—è–∑–∫–∏) —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `routing key` (–∫–ª—é—á–æ–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏) —Å–æ–æ–±—â–µ–Ω–∏—è.**

### –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã

```
                    [Exchange: direct_logs]
                            |
         +------------------+------------------+
         |                  |                  |
    (orange)           (black)            (green)
         |                  |                  |
         v                  v                  v
      [Q1]               [Q2]               [Q2]
```

–í —ç—Ç–æ–π —Å—Ö–µ–º–µ:
- –°–æ–æ–±—â–µ–Ω–∏–µ —Å `routing_key = "orange"` –ø–æ–ø–∞–¥—ë—Ç –≤ –æ—á–µ—Ä–µ–¥—å **Q1**
- –°–æ–æ–±—â–µ–Ω–∏—è —Å `routing_key = "black"` –∏–ª–∏ `"green"` –ø–æ–ø–∞–¥—É—Ç –≤ –æ—á–µ—Ä–µ–¥—å **Q2**
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–±—Ä–æ—à–µ–Ω—ã

---

## –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∏–≤—è–∑–∫–∏

–°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º–æ –ø—Ä–∏–≤—è–∑–∞—Ç—å **–Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—á–µ—Ä–µ–¥–µ–π —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∫–ª—é—á–æ–º –ø—Ä–∏–≤—è–∑–∫–∏**.

```
                    [Exchange: direct_logs]
                            |
         +------------------+------------------+
         |                                     |
      (black)                              (black)
         |                                     |
         v                                     v
      [Q1]                                  [Q2]
```

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ–±–º–µ–Ω–Ω–∏–∫ `direct` –±—É–¥–µ—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –∫–∞–∫ `fanout` –∏ —Ç—Ä–∞–Ω—Å–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º –ø–æ–¥—Ö–æ–¥—è—â–∏–º –æ—á–µ—Ä–µ–¥—è–º. –°–æ–æ–±—â–µ–Ω–∏–µ —Å `routing_key = "black"` –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –∏ –≤ **Q1**, –∏ –≤ **Q2**.

---

## –°–æ–∑–¥–∞–Ω–∏–µ –æ–±–º–µ–Ω–Ω–∏–∫–∞ Direct –≤ 1–°

–î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –æ–±–º–µ–Ω–Ω–∏–∫ —Ç–∏–ø–∞ `direct`.

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Management UI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ RabbitMQ Management UI: http://localhost:15672
2. –í–æ–π–¥–∏—Ç–µ (–ª–æ–≥–∏–Ω: `rmuser`, –ø–∞—Ä–æ–ª—å: `rmpassword`)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Exchanges"**
4. –ù–∞–∂–º–∏—Ç–µ **"Add a new exchange"**
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:
   - **Name:** `direct_logs`
   - **Type:** `direct`
   - **Durability:** `Durable` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   - **Auto delete:** `No`
6. –ù–∞–∂–º–∏—Ç–µ **"Add exchange"**

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –æ–±–º–µ–Ω–Ω–∏–∫–∞

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–º—É –æ–±–º–µ–Ω–Ω–∏–∫—É:

```bsl
–¢–æ—á–∫–∞–û–±–º–µ–Ω–∞ = –ö–ª–∏–µ–Ω—ÇRMQ.Exchange_direct(); // –í–µ—Ä–Ω–µ—Ç "amq.direct"
```

> **üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–í–∞—Ä–∏–∞–Ω—Ç –ê** —Å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º –∏–º–µ–Ω–µ–º `direct_logs`. –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥–æ–π–¥–µ—Ç **–í–∞—Ä–∏–∞–Ω—Ç –ë**.

---

## –û—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–æ–≤ (Emitting Logs)

–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –º–æ–¥–µ–ª—å –¥–ª—è –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è. –í–º–µ—Å—Ç–æ `fanout` –º—ã –æ—Ç–ø—Ä–∞–≤–∏–º —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –æ–±–º–µ–Ω–Ω–∏–∫ `direct`. **–£—Ä–æ–≤–µ–Ω—å –≤–∞–∂–Ω–æ—Å—Ç–∏ –ª–æ–≥–∞** –ø–µ—Ä–µ–¥–∞–¥–∏–º –∫–∞–∫ **–∫–ª—é—á –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏** (`routing_key`). –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π —Å–∫—Ä–∏–ø—Ç —Å–º–æ–∂–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å, –∫–∞–∫–∏–µ —É—Ä–æ–≤–Ω–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏ –ø–æ–ª—É—á–∞—Ç—å.

–î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ —É—Ä–æ–≤–µ–Ω—å –≤–∞–∂–Ω–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑: `"info"`, `"warning"` –∏–ª–∏ `"error"`.

### –ö–æ–¥ –∏–∑–¥–∞—Ç–µ–ª—è

```bsl
&–ù–∞–°–µ—Ä–≤–µ—Ä–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ü–æ–£—Ä–æ–≤–Ω—é–ù–∞–°–µ—Ä–≤–µ—Ä–µ(–£—Ä–æ–≤–µ–Ω—å–í–∞–∂–Ω–æ—Å—Ç–∏, –¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è)
    
    // 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
    –ö–ª–∏–µ–Ω—ÇRMQ = –û–±—Ä–∞–±–æ—Ç–∫–∏.–ö–ª–∏–µ–Ω—ÇRMQ.–°–æ–∑–¥–∞—Ç—å();
    –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ = –ö–ª–∏–µ–Ω—ÇRMQ.–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è–ö–°–µ—Ä–≤–µ—Ä—É("amqp://rmuser:rmpassword@localhost:5672/%2f");
    
    –ï—Å–ª–∏ –ö–ª–∏–µ–Ω—ÇRMQ.–≠—Ç–æ–û—à–∏–±–∫–∞(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ) –¢–æ–≥–¥–∞
        –í—ã–∑–≤–∞—Ç—å–ò—Å–∫–ª—é—á–µ–Ω–∏–µ "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ RabbitMQ";
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    // 2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞
    –ö–∞–Ω–∞–ª = –ö–ª–∏–µ–Ω—ÇRMQ.–°–æ–∑–¥–∞—Ç—å–ö–∞–Ω–∞–ª(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ);
    
    // 3. –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —É—Ä–æ–≤–Ω—è –≤–∞–∂–Ω–æ—Å—Ç–∏ –∫–∞–∫ routing_key
    //    –í–∞—Ä–∏–∞–Ω—Ç –ê: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–±–º–µ–Ω–Ω–∏–∫
    –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞ = "direct_logs";
    
    //    –í–∞—Ä–∏–∞–Ω—Ç –ë: –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –æ–±–º–µ–Ω–Ω–∏–∫
    //    –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞ = –ö–ª–∏–µ–Ω—ÇRMQ.Exchange_direct();
    
    –û—Ç–≤–µ—Ç = –ö–ª–∏–µ–Ω—ÇRMQ.–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å–°–æ–æ–±—â–µ–Ω–∏–µ(
        –ö–∞–Ω–∞–ª, 
        –¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è,     // –î–∞–Ω–Ω—ã–µ
        –£—Ä–æ–≤–µ–Ω—å–í–∞–∂–Ω–æ—Å—Ç–∏,    // –ö–ª—é—á–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏: "info", "warning" –∏–ª–∏ "error"
        –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞         // –û–±–º–µ–Ω–Ω–∏–∫ —Ç–∏–ø–∞ direct
    );
    
    –ï—Å–ª–∏ –ö–ª–∏–µ–Ω—ÇRMQ.–≠—Ç–æ–û—à–∏–±–∫–∞(–û—Ç–≤–µ—Ç) –¢–æ–≥–¥–∞
        –ö–ª–∏–µ–Ω—ÇRMQ.–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è–û—Ç–°–µ—Ä–≤–µ—Ä–∞(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ);
        –í—ã–∑–≤–∞—Ç—å–ò—Å–∫–ª—é—á–µ–Ω–∏–µ "–û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏: " + –û—Ç–≤–µ—Ç.–¢–µ–∫—Å—Ç;
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    –°–æ–æ–±—â–∏—Ç—å(–°—Ç—Ä–®–∞–±–ª–æ–Ω(" [x] –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ [%1]: %2", –£—Ä–æ–≤–µ–Ω—å–í–∞–∂–Ω–æ—Å—Ç–∏, –¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è));
    
    // 4. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ
    –ö–ª–∏–µ–Ω—ÇRMQ.–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è–û—Ç–°–µ—Ä–≤–µ—Ä–∞(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ);
    
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã

// –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π
&–ù–∞–ö–ª–∏–µ–Ω—Ç–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –û—Ç–ø—Ä–∞–≤–∏—Ç—åInfo(–ö–æ–º–∞–Ω–¥–∞)
    –¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è = "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ";
    –û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ü–æ–£—Ä–æ–≤–Ω—é–ù–∞–°–µ—Ä–≤–µ—Ä–µ("info", –¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è);
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã

&–ù–∞–ö–ª–∏–µ–Ω—Ç–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –û—Ç–ø—Ä–∞–≤–∏—Ç—åWarning(–ö–æ–º–∞–Ω–¥–∞)
    –¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è = "–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –¥–∏—Å–∫ –∑–∞–ø–æ–ª–Ω–µ–Ω –Ω–∞ 80%";
    –û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ü–æ–£—Ä–æ–≤–Ω—é–ù–∞–°–µ—Ä–≤–µ—Ä–µ("warning", –¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è);
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã

&–ù–∞–ö–ª–∏–µ–Ω—Ç–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –û—Ç–ø—Ä–∞–≤–∏—Ç—åError(–ö–æ–º–∞–Ω–¥–∞)
    –¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è = "–û–®–ò–ë–ö–ê: –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö";
    –û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ü–æ–£—Ä–æ–≤–Ω—é–ù–∞–°–µ—Ä–≤–µ—Ä–µ("error", –¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è);
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

---

## –ü–æ–¥–ø–∏—Å–∫–∞ (Subscribing)

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ, –∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —É—Ä–æ–∫–µ, —Å –æ–¥–Ω–∏–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º ‚Äî –º—ã —Å–æ–∑–¥–∞–¥–∏–º **–Ω–æ–≤—É—é –ø—Ä–∏–≤—è–∑–∫—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è –≤–∞–∂–Ω–æ—Å—Ç–∏**, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç.

### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∏–≤—è–∑–∫–∏ –≤ 1–°

–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–≤—è–∑–æ–∫ –¥–ª—è –æ–¥–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏, –Ω—É–∂–Ω–æ **–≤—ã–∑–≤–∞—Ç—å `–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å` –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑** —Å –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –∏–º–µ–Ω–µ–º –æ—á–µ—Ä–µ–¥–∏, –Ω–æ —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏:

```bsl
// –ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤ - —Å–æ–∑–¥–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å –∏ –ø–µ—Ä–≤—É—é –ø—Ä–∏–≤—è–∑–∫—É
–û—á–µ—Ä–µ–¥—å = –ö–ª–∏–µ–Ω—ÇRMQ.–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å(
    –ö–∞–Ω–∞–ª,
    "",              // –ü—É—Å—Ç–æ–µ –∏–º—è - —Å–µ—Ä–≤–µ—Ä —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ
    "error",         // –ü–µ—Ä–≤—ã–π –∫–ª—é—á –ø—Ä–∏–≤—è–∑–∫–∏
    "direct_logs",   // –û–±–º–µ–Ω–Ω–∏–∫
    –õ–æ–∂—å,            // durable
    –ò—Å—Ç–∏–Ω–∞,          // exclusive
    –ò—Å—Ç–∏–Ω–∞           // auto-delete
);

–ò–º—è–û—á–µ—Ä–µ–¥–∏ = –û—á–µ—Ä–µ–¥—å.–ò–º—è–û—á–µ—Ä–µ–¥–∏; // –ó–∞–ø–æ–º–∏–Ω–∞–µ–º –∏–º—è –æ—á–µ—Ä–µ–¥–∏

// –í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤ - —Å–æ–∑–¥–∞–µ—Ç –≤—Ç–æ—Ä—É—é –ø—Ä–∏–≤—è–∑–∫—É –¥–ª—è —Ç–æ–π –∂–µ –æ—á–µ—Ä–µ–¥–∏
–ö–ª–∏–µ–Ω—ÇRMQ.–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å(
    –ö–∞–Ω–∞–ª,
    –ò–º—è–û—á–µ—Ä–µ–¥–∏,      // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏–º—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –æ—á–µ—Ä–µ–¥–∏
    "warning",       // –í—Ç–æ—Ä–æ–π –∫–ª—é—á –ø—Ä–∏–≤—è–∑–∫–∏
    "direct_logs",
    –õ–æ–∂—å,
    –ò—Å—Ç–∏–Ω–∞,
    –ò—Å—Ç–∏–Ω–∞
);

// –¢—Ä–µ—Ç–∏–π –≤—ã–∑–æ–≤ - —Ç—Ä–µ—Ç—å—è –ø—Ä–∏–≤—è–∑–∫–∞
–ö–ª–∏–µ–Ω—ÇRMQ.–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å(
    –ö–∞–Ω–∞–ª,
    –ò–º—è–û—á–µ—Ä–µ–¥–∏,      // –¢–∞ –∂–µ –æ—á–µ—Ä–µ–¥—å
    "info",          // –¢—Ä–µ—Ç–∏–π –∫–ª—é—á –ø—Ä–∏–≤—è–∑–∫–∏
    "direct_logs",
    –õ–æ–∂—å,
    –ò—Å—Ç–∏–Ω–∞,
    –ò—Å—Ç–∏–Ω–∞
);
```

> **üí° –í–∞–∂–Ω–æ:** –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö `–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å` —Å —Ç–µ–º –∂–µ –∏–º–µ–Ω–µ–º –æ—á–µ—Ä–µ–¥–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è **–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–≤—è–∑–∫–∏** –∫ –æ–±–º–µ–Ω–Ω–∏–∫—É —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.

### –ö–æ–¥ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞

```bsl
// ‚ö†Ô∏è –≠—Ç–æ—Ç –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ –†–ï–ì–õ–ê–ú–ï–ù–¢–ù–û–ú –ó–ê–î–ê–ù–ò–ò –∏–ª–∏ –§–û–ù–û–í–û–ú –ó–ê–î–ê–ù–ò–ò!

&–ù–∞–°–µ—Ä–≤–µ—Ä–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ü–æ–ª—É—á–∞—Ç—å–õ–æ–≥–∏–ü–æ–£—Ä–æ–≤–Ω—è–º–í–§–æ–Ω–µ(–ú–∞—Å—Å–∏–≤–£—Ä–æ–≤–Ω–µ–π) –≠–∫—Å–ø–æ—Ä—Ç
    
    // –ú–∞—Å—Å–∏–≤–£—Ä–æ–≤–Ω–µ–π: ["error"], ["warning", "error"], ["info", "warning", "error"] –∏ —Ç.–¥.
    
    –ï—Å–ª–∏ –ú–∞—Å—Å–∏–≤–£—Ä–æ–≤–Ω–µ–π.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ() = 0 –¢–æ–≥–¥–∞
        –í—ã–∑–≤–∞—Ç—å–ò—Å–∫–ª—é—á–µ–Ω–∏–µ "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è";
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    // 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
    –ö–ª–∏–µ–Ω—ÇRMQ = –û–±—Ä–∞–±–æ—Ç–∫–∏.–ö–ª–∏–µ–Ω—ÇRMQ.–°–æ–∑–¥–∞—Ç—å();
    –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ = –ö–ª–∏–µ–Ω—ÇRMQ.–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è–ö–°–µ—Ä–≤–µ—Ä—É("amqp://rmuser:rmpassword@localhost:5672/%2f");
    
    –ï—Å–ª–∏ –ö–ª–∏–µ–Ω—ÇRMQ.–≠—Ç–æ–û—à–∏–±–∫–∞(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ) –¢–æ–≥–¥–∞
        –í—ã–∑–≤–∞—Ç—å–ò—Å–∫–ª—é—á–µ–Ω–∏–µ "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ RabbitMQ";
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    –ü–æ–ø—ã—Ç–∫–∞
        // 2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞
        –ö–∞–Ω–∞–ª = –ö–ª–∏–µ–Ω—ÇRMQ.–°–æ–∑–¥–∞—Ç—å–ö–∞–Ω–∞–ª(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ);
        
        //    –í–∞—Ä–∏–∞–Ω—Ç –ê: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–±–º–µ–Ω–Ω–∏–∫
        –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞ = "direct_logs";
        
        //    –í–∞—Ä–∏–∞–Ω—Ç –ë: –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –æ–±–º–µ–Ω–Ω–∏–∫
        //    –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞ = –ö–ª–∏–µ–Ω—ÇRMQ.Exchange_direct();
        
        // 3. –°–æ–∑–¥–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏ –∏ –ø—Ä–∏–≤—è–∑–æ–∫
        –ò–º—è–û—á–µ—Ä–µ–¥–∏ = "";
        
        –î–ª—è –ò–Ω–¥–µ–∫—Å = 0 –ü–æ –ú–∞—Å—Å–∏–≤–£—Ä–æ–≤–Ω–µ–π.–í–ì—Ä–∞–Ω–∏—Ü–∞() –¶–∏–∫–ª
            –£—Ä–æ–≤–µ–Ω—å–í–∞–∂–Ω–æ—Å—Ç–∏ = –ú–∞—Å—Å–∏–≤–£—Ä–æ–≤–Ω–µ–π[–ò–Ω–¥–µ–∫—Å];
            
            –ï—Å–ª–∏ –ò–Ω–¥–µ–∫—Å = 0 –¢–æ–≥–¥–∞
                // –ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤ - —Å–æ–∑–¥–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å –∏ –ø–µ—Ä–≤—É—é –ø—Ä–∏–≤—è–∑–∫—É
                –û—á–µ—Ä–µ–¥—å = –ö–ª–∏–µ–Ω—ÇRMQ.–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å(
                    –ö–∞–Ω–∞–ª,
                    "",                 // –ü—É—Å—Ç–æ–µ –∏–º—è - —Å–µ—Ä–≤–µ—Ä —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç
                    –£—Ä–æ–≤–µ–Ω—å–í–∞–∂–Ω–æ—Å—Ç–∏,    // –ö–ª—é—á –ø—Ä–∏–≤—è–∑–∫–∏ (binding key)
                    –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞,
                    –õ–æ–∂—å,               // durable
                    –ò—Å—Ç–∏–Ω–∞,             // exclusive
                    –ò—Å—Ç–∏–Ω–∞              // auto-delete
                );
                
                –ò–º—è–û—á–µ—Ä–µ–¥–∏ = –û—á–µ—Ä–µ–¥—å.–ò–º—è–û—á–µ—Ä–µ–¥–∏;
                –°–æ–æ–±—â–∏—Ç—å(–°—Ç—Ä–®–∞–±–ª–æ–Ω(" [*] –°–æ–∑–¥–∞–Ω–∞ –æ—á–µ—Ä–µ–¥—å: %1", –ò–º—è–û—á–µ—Ä–µ–¥–∏));
                –°–æ–æ–±—â–∏—Ç—å(–°—Ç—Ä–®–∞–±–ª–æ–Ω(" [*] –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å: %1", –£—Ä–æ–≤–µ–Ω—å–í–∞–∂–Ω–æ—Å—Ç–∏));
            –ò–Ω–∞—á–µ
                // –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã - –¥–æ–±–∞–≤–ª—è—é—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –æ—á–µ—Ä–µ–¥–∏
                –ö–ª–∏–µ–Ω—ÇRMQ.–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å(
                    –ö–∞–Ω–∞–ª,
                    –ò–º—è–û—á–µ—Ä–µ–¥–∏,         // –ò–º—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –æ—á–µ—Ä–µ–¥–∏
                    –£—Ä–æ–≤–µ–Ω—å–í–∞–∂–Ω–æ—Å—Ç–∏,    // –ù–æ–≤—ã–π –∫–ª—é—á –ø—Ä–∏–≤—è–∑–∫–∏
                    –¢–æ—á–∫–∞–û–±–º–µ–Ω–∞,
                    –õ–æ–∂—å,
                    –ò—Å—Ç–∏–Ω–∞,
                    –ò—Å—Ç–∏–Ω–∞
                );
                
                –°–æ–æ–±—â–∏—Ç—å(–°—Ç—Ä–®–∞–±–ª–æ–Ω(" [*] –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å: %1", –£—Ä–æ–≤–µ–Ω—å–í–∞–∂–Ω–æ—Å—Ç–∏));
            –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
        –ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
        
        // 4. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
        –ü–æ–ª—É—á–∞—Ç–µ–ª—å = –ö–ª–∏–µ–Ω—ÇRMQ.–°–æ–∑–¥–∞—Ç—å–ü–æ–ª—É—á–∞—Ç–µ–ª—è(
            –ö–∞–Ω–∞–ª, 
            –ò–º—è–û—á–µ—Ä–µ–¥–∏,
            "",      // –¢—ç–≥–ü–æ–ª—É—á–∞—Ç–µ–ª—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)
            –ò—Å—Ç–∏–Ω–∞   // no_ack = –ò—Å—Ç–∏–Ω–∞ (–∞–≤—Ç–æ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ)
        );
        
        –°–æ–æ–±—â–∏—Ç—å(" [*] –û–∂–∏–¥–∞–Ω–∏–µ –ª–æ–≥–æ–≤. –î–ª—è –≤—ã—Ö–æ–¥–∞ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C");
        
        // 5. –¶–∏–∫–ª –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
        –ü–æ–∫–∞ –ö–ª–∏–µ–Ω—ÇRMQ.–°–ª–µ–¥—É—é—â–µ–µ–°–æ–æ–±—â–µ–Ω–∏–µ(–ü–æ–ª—É—á–∞—Ç–µ–ª—å) –¶–∏–∫–ª
            
            –î–∞–Ω–Ω—ã–µ–°–æ–æ–±—â–µ–Ω–∏—è = –ö–ª–∏–µ–Ω—ÇRMQ.–î–∞–Ω–Ω—ã–µ–°–æ–æ–±—â–µ–Ω–∏—è();
            
            –ï—Å–ª–∏ –ö–ª–∏–µ–Ω—ÇRMQ.–≠—Ç–æ–û—à–∏–±–∫–∞(–î–∞–Ω–Ω—ã–µ–°–æ–æ–±—â–µ–Ω–∏—è) –¢–æ–≥–¥–∞
                –ü—Ä–µ—Ä–≤–∞—Ç—å;
            –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ª–æ–≥–∞
            –°–æ–æ–±—â–∏—Ç—å(–°—Ç—Ä–®–∞–±–ª–æ–Ω(" [x] –ü–æ–ª—É—á–µ–Ω–æ: %1", –î–∞–Ω–Ω—ã–µ–°–æ–æ–±—â–µ–Ω–∏—è.–î–∞–Ω–Ω—ã–µ));
            
        –ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
        
    –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
        –ó–∞–ø–∏—Å—å–õ–æ–≥–∞–°–∏—Å—Ç–µ–º—ã("RabbitMQ", –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏(), , , –£—Ä–æ–≤–µ–Ω—å–õ–æ–≥–∞–°–∏—Å—Ç–µ–º—ã.–û—à–∏–±–∫–∞);
    –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
    
    // 6. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ
    –ö–ª–∏–µ–Ω—ÇRMQ.–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è–û—Ç–°–µ—Ä–≤–µ—Ä–∞(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ);
    
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

---

## –°–æ–±–∏—Ä–∞–µ–º –≤—Å—ë –≤–º–µ—Å—Ç–µ

```
                     [Exchange: direct_logs (type: direct)]
                                    |
         +--------------------------+-------------------------+
         |                          |                         |
      (error)                   (error)                   (info, warning, error)
         |                          |                         |
         v                          v                         v
    [Queue 1]                  [Queue 2]                 [Queue 3]
         |                          |                         |
         v                          v                         v
   (—Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏             (—Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏            (–≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    –Ω–∞ –¥–∏—Å–∫)                   –Ω–∞ —ç–∫—Ä–∞–Ω)                 –≤ –∫–æ–Ω—Å–æ–ª—å)
```

### –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏–∑–¥–∞—Ç–µ–ª—è

```bsl
&–ù–∞–°–µ—Ä–≤–µ—Ä–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ù–∞–°–µ—Ä–≤–µ—Ä–µ(–£—Ä–æ–≤–µ–Ω—å–í–∞–∂–Ω–æ—Å—Ç–∏, –¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è)
    
    –ö–ª–∏–µ–Ω—ÇRMQ = –û–±—Ä–∞–±–æ—Ç–∫–∏.–ö–ª–∏–µ–Ω—ÇRMQ.–°–æ–∑–¥–∞—Ç—å();
    –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ = –ö–ª–∏–µ–Ω—ÇRMQ.–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è–ö–°–µ—Ä–≤–µ—Ä—É("amqp://rmuser:rmpassword@localhost:5672/%2f");
    
    –ï—Å–ª–∏ –ö–ª–∏–µ–Ω—ÇRMQ.–≠—Ç–æ–û—à–∏–±–∫–∞(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ) –¢–æ–≥–¥–∞
        –í—ã–∑–≤–∞—Ç—å–ò—Å–∫–ª—é—á–µ–Ω–∏–µ "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è";
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    –ö–∞–Ω–∞–ª = –ö–ª–∏–µ–Ω—ÇRMQ.–°–æ–∑–¥–∞—Ç—å–ö–∞–Ω–∞–ª(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ);
    
    –û—Ç–≤–µ—Ç = –ö–ª–∏–µ–Ω—ÇRMQ.–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å–°–æ–æ–±—â–µ–Ω–∏–µ(
        –ö–∞–Ω–∞–ª, 
        –¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è, 
        –£—Ä–æ–≤–µ–Ω—å–í–∞–∂–Ω–æ—Å—Ç–∏,  // routing_key
        "direct_logs"     // exchange
    );
    
    –ï—Å–ª–∏ –ù–ï –ö–ª–∏–µ–Ω—ÇRMQ.–≠—Ç–æ–û—à–∏–±–∫–∞(–û—Ç–≤–µ—Ç) –¢–æ–≥–¥–∞
        –°–æ–æ–±—â–∏—Ç—å(–°—Ç—Ä–®–∞–±–ª–æ–Ω(" [x] –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ [%1]: %2", –£—Ä–æ–≤–µ–Ω—å–í–∞–∂–Ω–æ—Å—Ç–∏, –¢–µ–∫—Å—Ç–°–æ–æ–±—â–µ–Ω–∏—è));
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    –ö–ª–∏–µ–Ω—ÇRMQ.–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è–û—Ç–°–µ—Ä–≤–µ—Ä–∞(–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ);
    
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

---

## –ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –æ–±–º–µ–Ω–Ω–∏–∫

–ß–µ—Ä–µ–∑ Management UI —Å–æ–∑–¥–∞–π—Ç–µ –æ–±–º–µ–Ω–Ω–∏–∫:
- **Name:** `direct_logs`
- **Type:** `direct`

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—à–∏–±–∫–∏

```bsl
&–ù–∞–ö–ª–∏–µ–Ω—Ç–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ó–∞–ø—É—Å—Ç–∏—Ç—å–ü–æ–¥–ø–∏—Å—á–∏–∫–∞–ù–∞–û—à–∏–±–∫–∏(–ö–æ–º–∞–Ω–¥–∞)
    –£—Ä–æ–≤–Ω–∏–î–ª—è–ü–æ–¥–ø–∏—Å–∫–∏ = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
    –£—Ä–æ–≤–Ω–∏–î–ª—è–ü–æ–¥–ø–∏—Å–∫–∏.–î–æ–±–∞–≤–∏—Ç—å("error");
    
    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–¥–∞–Ω–∏—è = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–¥–∞–Ω–∏—è.–î–æ–±–∞–≤–∏—Ç—å(–£—Ä–æ–≤–Ω–∏–î–ª—è–ü–æ–¥–ø–∏—Å–∫–∏);
    
    –§–æ–Ω–æ–≤—ã–µ–ó–∞–¥–∞–Ω–∏—è.–í—ã–ø–æ–ª–Ω–∏—Ç—å("–ü–æ–ª—É—á–∞—Ç—å–õ–æ–≥–∏–ü–æ–£—Ä–æ–≤–Ω—è–º–í–§–æ–Ω–µ", –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–¥–∞–Ω–∏—è, , "–ü–æ–¥–ø–∏—Å—á–∏–∫: —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏");
    –°–æ–æ–±—â–∏—Ç—å("–ó–∞–ø—É—â–µ–Ω –ø–æ–¥–ø–∏—Å—á–∏–∫ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å: error");
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞ –Ω–∞ –≤—Å–µ —É—Ä–æ–≤–Ω–∏

```bsl
&–ù–∞–ö–ª–∏–µ–Ω—Ç–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ó–∞–ø—É—Å—Ç–∏—Ç—å–ü–æ–¥–ø–∏—Å—á–∏–∫–∞–ù–∞–í—Å–µ(–ö–æ–º–∞–Ω–¥–∞)
    –£—Ä–æ–≤–Ω–∏–î–ª—è–ü–æ–¥–ø–∏—Å–∫–∏ = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
    –£—Ä–æ–≤–Ω–∏–î–ª—è–ü–æ–¥–ø–∏—Å–∫–∏.–î–æ–±–∞–≤–∏—Ç—å("info");
    –£—Ä–æ–≤–Ω–∏–î–ª—è–ü–æ–¥–ø–∏—Å–∫–∏.–î–æ–±–∞–≤–∏—Ç—å("warning");
    –£—Ä–æ–≤–Ω–∏–î–ª—è–ü–æ–¥–ø–∏—Å–∫–∏.–î–æ–±–∞–≤–∏—Ç—å("error");
    
    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–¥–∞–Ω–∏—è = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–¥–∞–Ω–∏—è.–î–æ–±–∞–≤–∏—Ç—å(–£—Ä–æ–≤–Ω–∏–î–ª—è–ü–æ–¥–ø–∏—Å–∫–∏);
    
    –§–æ–Ω–æ–≤—ã–µ–ó–∞–¥–∞–Ω–∏—è.–í—ã–ø–æ–ª–Ω–∏—Ç—å("–ü–æ–ª—É—á–∞—Ç—å–õ–æ–≥–∏–ü–æ–£—Ä–æ–≤–Ω—è–º–í–§–æ–Ω–µ", –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–¥–∞–Ω–∏—è, , "–ü–æ–¥–ø–∏—Å—á–∏–∫: –≤—Å–µ —É—Ä–æ–≤–Ω–∏");
    –°–æ–æ–±—â–∏—Ç—å("–ó–∞–ø—É—â–µ–Ω –ø–æ–¥–ø–∏—Å—á–∏–∫ –Ω–∞ —É—Ä–æ–≤–Ω–∏: info, warning, error");
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

### –®–∞–≥ 4: –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π

```bsl
&–ù–∞–ö–ª–∏–µ–Ω—Ç–µ
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –û—Ç–ø—Ä–∞–≤–∏—Ç—å–¢–µ—Å—Ç–æ–≤—ã–µ–õ–æ–≥–∏(–ö–æ–º–∞–Ω–¥–∞)
    –û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ù–∞–°–µ—Ä–≤–µ—Ä–µ("info", "–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—â–µ–Ω–∞");
    –û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ù–∞–°–µ—Ä–≤–µ—Ä–µ("warning", "–î–∏—Å–∫ –∑–∞–ø–æ–ª–Ω–µ–Ω –Ω–∞ 80%");
    –û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ù–∞–°–µ—Ä–≤–µ—Ä–µ("error", "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ë–î!");
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ü–æ–¥–ø–∏—Å—á–∏–∫ #1 (—Ç–æ–ª—å–∫–æ error):**
```
[*] –°–æ–∑–¥–∞–Ω–∞ –æ—á–µ—Ä–µ–¥—å: amq.gen-ABC123
[*] –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å: error
[*] –û–∂–∏–¥–∞–Ω–∏–µ –ª–æ–≥–æ–≤...
[x] –ü–æ–ª—É—á–µ–Ω–æ: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ë–î!
```

**–ü–æ–¥–ø–∏—Å—á–∏–∫ #2 (info, warning, error):**
```
[*] –°–æ–∑–¥–∞–Ω–∞ –æ—á–µ—Ä–µ–¥—å: amq.gen-XYZ789
[*] –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å: info
[*] –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å: warning
[*] –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å: error
[*] –û–∂–∏–¥–∞–Ω–∏–µ –ª–æ–≥–æ–≤...
[x] –ü–æ–ª—É—á–µ–Ω–æ: –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—â–µ–Ω–∞
[x] –ü–æ–ª—É—á–µ–Ω–æ: –î–∏—Å–∫ –∑–∞–ø–æ–ª–Ω–µ–Ω –Ω–∞ 80%
[x] –ü–æ–ª—É—á–µ–Ω–æ: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ë–î!
```

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ 1–°

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –ø–æ –≤–∞–∂–Ω–æ—Å—Ç–∏

```bsl
// –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
// –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è ‚Üí –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª
// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ ‚Üí –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å

// –ü–æ–¥–ø–∏—Å—á–∏–∫ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ
–£—Ä–æ–≤–Ω–∏–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
–£—Ä–æ–≤–Ω–∏–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ.–î–æ–±–∞–≤–∏—Ç—å("error");

// –ü–æ–¥–ø–∏—Å—á–∏–∫ 2: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
–£—Ä–æ–≤–Ω–∏–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
–£—Ä–æ–≤–Ω–∏–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è.–î–æ–±–∞–≤–∏—Ç—å("warning");

// –ü–æ–¥–ø–∏—Å—á–∏–∫ 3: –í—Å—ë
–£—Ä–æ–≤–Ω–∏–í—Å–µ = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
–£—Ä–æ–≤–Ω–∏–í—Å–µ.–î–æ–±–∞–≤–∏—Ç—å("info");
–£—Ä–æ–≤–Ω–∏–í—Å–µ.–î–æ–±–∞–≤–∏—Ç—å("warning");
–£—Ä–æ–≤–Ω–∏–í—Å–µ.–î–æ–±–∞–≤–∏—Ç—å("error");
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```bsl
// –ü—É–±–ª–∏–∫–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å —Ç–∏–ø–æ–º –∫–∞–∫ routing_key
–û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ù–∞–°–µ—Ä–≤–µ—Ä–µ("–¥–æ–∫—É–º–µ–Ω—Ç.–∑–∞–∫–∞–∑", –î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞);
–û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ù–∞–°–µ—Ä–≤–µ—Ä–µ("–¥–æ–∫—É–º–µ–Ω—Ç.—Å—á–µ—Ç", –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞);
–û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ù–∞–°–µ—Ä–≤–µ—Ä–µ("–¥–æ–∫—É–º–µ–Ω—Ç.–Ω–∞–∫–ª–∞–¥–Ω–∞—è", –î–∞–Ω–Ω—ã–µ–ù–∞–∫–ª–∞–¥–Ω–æ–π);

// –ü–æ–¥–ø–∏—Å—á–∏–∫ 1: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞–∫–∞–∑—ã
// –ü–æ–¥–ø–∏—Å—á–∏–∫ 2: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å—á–µ—Ç–∞
// –ü–æ–¥–ø–∏—Å—á–∏–∫ 3: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É

```bsl
// –ü—É–±–ª–∏–∫–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
–û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ù–∞–°–µ—Ä–≤–µ—Ä–µ("—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.–Ω–∏–∑–∫–∏–π", "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ");
–û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ù–∞–°–µ—Ä–≤–µ—Ä–µ("—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.—Å—Ä–µ–¥–Ω–∏–π", "–ó–∞–¥–∞—á–∞ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–∞");
–û—Ç–ø—Ä–∞–≤–∏—Ç—å–õ–æ–≥–ù–∞–°–µ—Ä–≤–µ—Ä–µ("—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.–≤—ã—Å–æ–∫–∏–π", "–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è");

// –ü–æ–¥–ø–∏—Å—á–∏–∫: —Ç–æ–ª—å–∫–æ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Üí push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
// –ü–æ–¥–ø–∏—Å—á–∏–∫: —Å—Ä–µ–¥–Ω–∏–π –∏ –≤—ã—Å–æ–∫–∏–π ‚Üí email
// –ü–æ–¥–ø–∏—Å—á–∏–∫: –≤—Å–µ ‚Üí –∑–∞–ø–∏—Å—å –≤ –ë–î
```

---

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∫–ª—é—á–µ–π

–û–±–º–µ–Ω–Ω–∏–∫ `direct` —Ç—Ä–µ–±—É–µ—Ç **—Ç–æ—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è** –º–µ–∂–¥—É `routing_key` (–ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏) –∏ `binding key` (–ø—Ä–∏ –ø—Ä–∏–≤—è–∑–∫–µ). –†–µ–≥–∏—Å—Ç—Ä —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è!

```bsl
// ‚úÖ –°–æ–≤–ø–∞–¥–µ—Ç
routing_key = "error"
binding_key = "error"

// ‚ùå –ù–ï —Å–æ–≤–ø–∞–¥–µ—Ç
routing_key = "ERROR"
binding_key = "error"
```

### 2. –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–≤—è–∑–æ–∫ –¥–ª—è –æ–¥–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏

–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ –ø—Ä–∏–≤—è–∑–æ–∫ –¥–ª—è –æ–¥–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏, –≤—ã–∑–≤–∞–≤ `–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å` –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å –æ–¥–Ω–∏–º –∏–º–µ–Ω–µ–º, –Ω–æ —Ä–∞–∑–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.

### 3. –°–æ–æ–±—â–µ–Ω–∏—è –±–µ–∑ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –æ—á–µ—Ä–µ–¥–µ–π –æ—Ç–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è

–ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ —Å `routing_key`, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –æ—á–µ—Ä–µ–¥–µ–π, –æ–Ω–æ –±—É–¥–µ—Ç **–ø–æ—Ç–µ—Ä—è–Ω–æ**.

### 4. –û–±–º–µ–Ω–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å

–°–æ–∑–¥–∞–π—Ç–µ –æ–±–º–µ–Ω–Ω–∏–∫ `direct_logs` –∑–∞—Ä–∞–Ω–µ–µ —á–µ—Ä–µ–∑ Management UI –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `amq.direct`.

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ú—ã –Ω–∞—É—á–∏–ª–∏—Å—å –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ **—Ç–æ—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∫–ª—é—á–µ–π**. –ù–æ —á—Ç–æ –µ—Å–ª–∏ –Ω–∞–º –Ω—É–∂–Ω–∞ –±–æ–ª–µ–µ –≥–∏–±–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ **—à–∞–±–ª–æ–Ω–æ–≤**?

–í [–£—Ä–æ–∫–µ 5](./Lesson5_ru.md) –º—ã –∏–∑—É—á–∏–º **Topics** (—Ç–µ–º—ã) ‚Äî –∫–∞–∫ –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—è —à–∞–±–ª–æ–Ω—ã —Å —Å–∏–º–≤–æ–ª–∞–º–∏ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ (`*` –∏ `#`).

---

## –†–µ–∑—é–º–µ

‚úÖ **–ò–∑—É—á–∏–ª–∏:**
- –û–±–º–µ–Ω–Ω–∏–∫ —Ç–∏–ø–∞ `direct` –¥–ª—è —Ç–æ—á–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
- –ö–æ–Ω—Ü–µ–ø—Ü–∏—é `binding key` (–∫–ª—é—á –ø—Ä–∏–≤—è–∑–∫–∏)
- –†–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É `routing_key` –∏ `binding_key`
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∏–≤—è–∑–∫–∏ –¥–ª—è –æ–¥–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏
- –°–µ–ª–µ–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏:**
- –ò–∑–¥–∞—Ç–µ–ª—è –ª–æ–≥–æ–≤ —Å —É—Ä–æ–≤–Ω—è–º–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏
- –ü–æ–¥–ø–∏—Å—á–∏–∫–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —É—Ä–æ–≤–Ω—è–º
- –°–∏—Å—Ç–µ–º—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º–∏

‚úÖ **–ù–∞—É—á–∏–ª–∏—Å—å:**
- –°–æ–∑–¥–∞–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∏–≤—è–∑–∫–∏ —á–µ—Ä–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ `–û–±—ä—è–≤–∏—Ç—å–û—á–µ—Ä–µ–¥—å`
- –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ —Ç–æ—á–Ω–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é –∫–ª—é—á–µ–π
- –ü—Ä–∏–º–µ–Ω—è—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Routing –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á –≤ 1–°

---

**–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫:** [–£—Ä–æ–∫ 5 - Topics (–¢–µ–º—ã)](./Lesson5_ru.md) üöÄ

